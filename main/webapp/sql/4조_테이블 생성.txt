--김준욱-- 1. -유저정보 테이블-
create table tuser(
tu_id varchar(50) not null primary key, 
tu_pw varchar(50) not null, 
tu_name varchar(20) not null, 
tu_email varchar(50) not null, 
tu_phone varchar(20) not null, 
tu_address varchar(50) not null, 
tu_joindate date default now(), 
tu_rank varchar(20) default 'nomal' not null);

--김준욱-- 2. -항공기 테이블-
create table tairp(ta_code varchar(50) not null primary key, 
ta_dep varchar(50), 
ta_arr varchar(50), 
ta_pax int(10), 
ta_flightnum varchar(50));


--이병훈-- 3. 여행상품  테이블
create table trip(
  trip_code     varchar(50)    not null primary key
 ,trip_area     varchar(50)   not null
 ,trip_name     varchar(100)  not null
 ,trip_content  varchar(200)  not null
 ,trip_cost1    varchar(50)   not null
 ,trip_cost2    varchar(50)   not null
 ,trip_cost3    varchar(50)   not null
 ,trip_possible int(100)     not null
 ,trip_airpcost varchar(100) not null
 ,trip_bedcost  varchar(100) not null
 ,trip_situation varchar(50) not null
);

--윤민상 -- --4. 숙소정보테이블 생성
CREATE TABLE t_hotel (
    th_code   VARCHAR(250) NOT NULL PRIMARY KEY
   ,th_name  VARCHAR(50) NOT NULL
   ,th_room   VARCHAR(50) NOT NULL
   ,th_reg     VARCHAR(50) NOT NULL
   ,th_content TEXT(1000)   NOT NULL
   ,th_max    INT           NOT NULL
);




--윤민상-- -- 5. 숙소예약테이블 생성
CREATE TABLE hotel_reser (
    thr_num INT NOT NULL AUTO_INCREMENT PRIMARY KEY
   ,th_code     VARCHAR(250) NOT NULL 
   ,tu_id        VARCHAR(50) NOT NULL
   ,thr_member INT NOT NULL
   ,thr_in       VARCHAR(50) NOT NULL
   ,thr_out     VARCHAR(50)  NOT NULL
   ,trip_code    VARCHAR(50) NOT NULL
   ,FOREIGN KEY(trip_code) REFERENCES trip(trip_code)
   ,FOREIGN KEY(tu_id) REFERENCES tuser(tu_id)
   ,FOREIGN KEY(th_code) REFERENCES t_hotel(th_code)
);

--유영승-- 6. 상품예약테이블
create table reservation(
tr_code   int not null  primary key auto_increment,
trip_code varchar(50) not null,
tu_id       varchar(50) not null,
tr_adult    int not null,
tr_kid       int not null,
tr_baby     int not null,
tr_price   int  not null,
tr_resdate   date    not null,
tr_departure datetime   not null,
tr_arrival      datetime   not null,
ta_code      varchar(50) not null,
th_code     varchar(50) not null,
tr_buy        varchar(50) not null
,FOREIGN KEY(trip_code) REFERENCES trip(trip_code)
,FOREIGN KEY(tu_id) REFERENCES tuser(tu_id)
,FOREIGN KEY(ta_code) REFERENCES tairp(ta_code)
,FOREIGN KEY(th_code) REFERENCES t_hotel(th_code)
);

--유영승 --7. 항공권 예약 테이블
create table flight_reser(
tf_code   varchar(250) not null primary key,
ta_code   varchar(50) not null,
tr_code   int not null,
tf_seat    varchar(50) not null,
tu_id      varchar(50) not null,
tf_name    varchar(50) not null,
tf_sdate   datetime    not null,
tf_fdate   datetime    not null,
trip_code  varchar(50) not null
,FOREIGN KEY(ta_code) REFERENCES tairp(ta_code)
,FOREIGN KEY(tr_code) REFERENCES reservation(tr_code)
,FOREIGN KEY(tu_id) REFERENCES tuser(tu_id)
,FOREIGN KEY(trip_code) REFERENCES trip(trip_code)
);

--송찬우-- 문의테이블 생성
CREATE TABLE trq (
	trq_no INT NOT NULL AUTO_INCREMENT PRIMARY KEY -- 글번호
	,trq_sub VARCHAR(50) NOT NULL 	-- 질문제목
	,tu_id VARCHAR(50) NOT NULL 	-- 작성자id
	,trq_pw VARCHAR(50) NOT NULL 	-- 비밀번호
	,trq_con VARCHAR(100) NOT NULL 	-- 질문내용
	,trq_comcon VARCHAR(100) NOT NULL 	-- 답변내용
	,trq_cnt INT  DEFAULT 0 NOT NULL 	-- 조회수
	,trq_date DATETIME NOT NULL 	-- 질문날짜
	,trq_comdate DATE NOT NULL 	-- 답변날짜
	,FOREIGN KEY (tu_id) REFERENCES tuser(tu_id)
);

--송찬우-- 리뷰테이블 생성
CREATE TABLE trv (
	trv_no INT NOT NULL AUTO_INCREMENT PRIMARY KEY -- 글번호
	,trv_sub VARCHAR(50) NOT NULL 	-- 리뷰제목
	,tu_id VARCHAR(50) NOT NULL 	-- 작성자id
	,trip_code VARCHAR(50) NOT NULL 	-- 상품코드
	,trv_con VARCHAR(100) NOT NULL 	-- 리뷰내용
	,trv_pw VARCHAR(50) NOT NULL 	-- 비밀번호
	,trv_date DATETIME NOT NULL 	-- 리뷰날짜
	,trv_score VARCHAR(20) NOT NULL 	-- 별점
	,trv_cnt INT DEFAULT 0 NOT NULL 	-- 조회수
	,FOREIGN KEY(tu_id) REFERENCES tuser(tu_id)
	,FOREIGN KEY(trip_code) REFERENCES trip(trip_code)
);

-- 이병훈 -- 자주찾는 질문 테이블
create table tbrq(
  tbrq_no   int(4)          not null  auto_increment primary key -- 글번호
 ,tbrq_sub  varchar(20)   not null                                      -- 제목
 ,tbrq_con  varchar(200) not null                                      -- 내용
 ,tbrq_cnt  int(10)         not null                                      -- 조회수
 ,tbrq_date date           not null                                      -- 작성일 
);
